<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CMagic: cmagic/memory.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CMagic
   &#160;<span id="projectnumber">0.5.0</span>
   </div>
   <div id="projectbrief">Portable C library of utilities and data structures</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_44c072ab02ac2e2fd88e432906969033.html">cmagic</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">memory.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Portable substitutes of standard <code>malloc()</code> and <code>free()</code> functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
</div>
<p><a href="memory_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcmagic__memory__alloc__packet__t.html">cmagic_memory_alloc_packet_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set of allocation functions. Used in some CMagic structures to specify a desired memory pool.  <a href="structcmagic__memory__alloc__packet__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ac97faa884dfeb7cd547af82a1e599122"><td class="memItemLeft" align="right" valign="top">typedef void *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memory_8h.html#ac97faa884dfeb7cd547af82a1e599122">cmagic_memory_malloc_fptr_t</a>) (size_t size)</td></tr>
<tr class="memdesc:ac97faa884dfeb7cd547af82a1e599122"><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to <code>malloc</code> like function.  <a href="#ac97faa884dfeb7cd547af82a1e599122">More...</a><br /></td></tr>
<tr class="separator:ac97faa884dfeb7cd547af82a1e599122"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1cb95b66f64dc4dbd4f0e681991d8c6"><td class="memItemLeft" align="right" valign="top">typedef void *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memory_8h.html#ad1cb95b66f64dc4dbd4f0e681991d8c6">cmagic_memory_realloc_fptr_t</a>) (void *ptr, size_t size)</td></tr>
<tr class="memdesc:ad1cb95b66f64dc4dbd4f0e681991d8c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to <code>realloc</code> like function.  <a href="#ad1cb95b66f64dc4dbd4f0e681991d8c6">More...</a><br /></td></tr>
<tr class="separator:ad1cb95b66f64dc4dbd4f0e681991d8c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e884dd646f78d2e050e425c78a6fbe2"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memory_8h.html#a5e884dd646f78d2e050e425c78a6fbe2">cmagic_memory_free_fptr_t</a>) (void *ptr)</td></tr>
<tr class="memdesc:a5e884dd646f78d2e050e425c78a6fbe2"><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to <code>free</code> like function.  <a href="#a5e884dd646f78d2e050e425c78a6fbe2">More...</a><br /></td></tr>
<tr class="separator:a5e884dd646f78d2e050e425c78a6fbe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ab6b835f74113b8e45dd682613a9eca48"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memory_8h.html#ab6b835f74113b8e45dd682613a9eca48">cmagic_memory_free_result</a> { <br />
&#160;&#160;<a class="el" href="memory_8h.html#ab6b835f74113b8e45dd682613a9eca48a6cf67a41aabb9e6cc8dc312a656fe99c">CMAGIC_MEMORY_FREE_RESULT_OK</a>, 
<a class="el" href="memory_8h.html#ab6b835f74113b8e45dd682613a9eca48ac1ef65b5521c195d146f0327a1de035a">CMAGIC_MEMORY_FREE_RESULT_OK_NULLPTR</a>, 
<a class="el" href="memory_8h.html#ab6b835f74113b8e45dd682613a9eca48a1f3f0dae68dff6e9fa929c10f9dd3156">CMAGIC_MEMORY_FREE_RESULT_ERR_NOT_ALLOCATED_BEFORE</a>, 
<a class="el" href="memory_8h.html#ab6b835f74113b8e45dd682613a9eca48a992ee4330e0b8f43eb588ebca712830e">CMAGIC_MEMORY_FREE_RESULT_ERR_ADDRESS_OUTSIDE_MEMORY_POOL</a>, 
<br />
&#160;&#160;<a class="el" href="memory_8h.html#ab6b835f74113b8e45dd682613a9eca48a4fa3f916953155b0996bb65f2fef02be">CMAGIC_MEMORY_FREE_RESULT_ERR_UNINITIALIZED</a>
<br />
 }<tr class="memdesc:ab6b835f74113b8e45dd682613a9eca48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of result returned from <a class="el" href="memory_8h.html#a78755e6591b78b6dbbf73b9d53575e6e">cmagic_memory_free_ext</a>.  <a href="memory_8h.html#ab6b835f74113b8e45dd682613a9eca48">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ab6b835f74113b8e45dd682613a9eca48"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a63e599b9e5eddc80f0a9982d8c06f732"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memory_8h.html#a63e599b9e5eddc80f0a9982d8c06f732">cmagic_memory_init</a> (void *static_memory_pool, size_t static_memory_pool_size)</td></tr>
<tr class="memdesc:a63e599b9e5eddc80f0a9982d8c06f732"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a memory range where all dynamic allocated objects will reside.  <a href="#a63e599b9e5eddc80f0a9982d8c06f732">More...</a><br /></td></tr>
<tr class="separator:a63e599b9e5eddc80f0a9982d8c06f732"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed5c7e3341135476dfc53395a1d365c2"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memory_8h.html#aed5c7e3341135476dfc53395a1d365c2">cmagic_memory_malloc</a> (size_t size)</td></tr>
<tr class="memdesc:aed5c7e3341135476dfc53395a1d365c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dynamically allocates a block of memory of requested size, returning a pointer to the beginning of the block.  <a href="#aed5c7e3341135476dfc53395a1d365c2">More...</a><br /></td></tr>
<tr class="separator:aed5c7e3341135476dfc53395a1d365c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbf929b0e34ef845d8bb9a7822b0c515"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memory_8h.html#afbf929b0e34ef845d8bb9a7822b0c515">cmagic_memory_realloc</a> (void *ptr, size_t size)</td></tr>
<tr class="memdesc:afbf929b0e34ef845d8bb9a7822b0c515"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reallocates memory block changing its original size.  <a href="#afbf929b0e34ef845d8bb9a7822b0c515">More...</a><br /></td></tr>
<tr class="separator:afbf929b0e34ef845d8bb9a7822b0c515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78755e6591b78b6dbbf73b9d53575e6e"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="memory_8h.html#ab6b835f74113b8e45dd682613a9eca48">cmagic_memory_free_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memory_8h.html#a78755e6591b78b6dbbf73b9d53575e6e">cmagic_memory_free_ext</a> (void *ptr)</td></tr>
<tr class="memdesc:a78755e6591b78b6dbbf73b9d53575e6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extended version of <a class="el" href="memory_8h.html#a8a68773e742c5689701ca5c968a53cdb">cmagic_memory_free</a>.  <a href="#a78755e6591b78b6dbbf73b9d53575e6e">More...</a><br /></td></tr>
<tr class="separator:a78755e6591b78b6dbbf73b9d53575e6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a68773e742c5689701ca5c968a53cdb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memory_8h.html#a8a68773e742c5689701ca5c968a53cdb">cmagic_memory_free</a> (void *ptr)</td></tr>
<tr class="memdesc:a8a68773e742c5689701ca5c968a53cdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocates a block of memory previously allocated by a call to <a class="el" href="memory_8h.html#aed5c7e3341135476dfc53395a1d365c2">cmagic_memory_malloc</a> or <a class="el" href="memory_8h.html#afbf929b0e34ef845d8bb9a7822b0c515">cmagic_memory_realloc</a> is deallocated, making it available again for further allocations.  <a href="#a8a68773e742c5689701ca5c968a53cdb">More...</a><br /></td></tr>
<tr class="separator:a8a68773e742c5689701ca5c968a53cdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a5f400fbe4a0ed473174ee3c730465b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memory_8h.html#a0a5f400fbe4a0ed473174ee3c730465b">cmagic_memory_is_allocated</a> (void *ptr)</td></tr>
<tr class="memdesc:a0a5f400fbe4a0ed473174ee3c730465b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the memory block was allocated before with <a class="el" href="memory_8h.html#aed5c7e3341135476dfc53395a1d365c2">cmagic_memory_malloc</a> or <a class="el" href="memory_8h.html#afbf929b0e34ef845d8bb9a7822b0c515">cmagic_memory_realloc</a> and not freed yet.  <a href="#a0a5f400fbe4a0ed473174ee3c730465b">More...</a><br /></td></tr>
<tr class="separator:a0a5f400fbe4a0ed473174ee3c730465b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab22db8eee580dd3a828a89a18a958db9"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memory_8h.html#ab22db8eee580dd3a828a89a18a958db9">cmagic_memory_get_allocated_bytes</a> (void)</td></tr>
<tr class="memdesc:ab22db8eee580dd3a828a89a18a958db9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the sum of currently allocated bytes.  <a href="#ab22db8eee580dd3a828a89a18a958db9">More...</a><br /></td></tr>
<tr class="separator:ab22db8eee580dd3a828a89a18a958db9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37a2b4d2ab482a06c342ed4518de48f1"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memory_8h.html#a37a2b4d2ab482a06c342ed4518de48f1">cmagic_memory_get_free_bytes</a> (void)</td></tr>
<tr class="memdesc:a37a2b4d2ab482a06c342ed4518de48f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns number of free bytes in the memory pool.  <a href="#a37a2b4d2ab482a06c342ed4518de48f1">More...</a><br /></td></tr>
<tr class="separator:a37a2b4d2ab482a06c342ed4518de48f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af895228dff3d6c87198f40b085c0a57a"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memory_8h.html#af895228dff3d6c87198f40b085c0a57a">cmagic_memory_get_allocations</a> (void)</td></tr>
<tr class="memdesc:af895228dff3d6c87198f40b085c0a57a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns number of allocations made by <a class="el" href="memory_8h.html#aed5c7e3341135476dfc53395a1d365c2">cmagic_memory_malloc</a>.  <a href="#af895228dff3d6c87198f40b085c0a57a">More...</a><br /></td></tr>
<tr class="separator:af895228dff3d6c87198f40b085c0a57a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a65b6e69a55a497faf1a7908c9b01997a"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="structcmagic__memory__alloc__packet__t.html">cmagic_memory_alloc_packet_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memory_8h.html#a65b6e69a55a497faf1a7908c9b01997a">CMAGIC_MEMORY_ALLOC_PACKET_STD</a></td></tr>
<tr class="memdesc:a65b6e69a55a497faf1a7908c9b01997a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocation from the standard library.  <a href="#a65b6e69a55a497faf1a7908c9b01997a">More...</a><br /></td></tr>
<tr class="separator:a65b6e69a55a497faf1a7908c9b01997a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14630b7ef3ab5e3a0938200b08178de4"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="structcmagic__memory__alloc__packet__t.html">cmagic_memory_alloc_packet_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memory_8h.html#a14630b7ef3ab5e3a0938200b08178de4">CMAGIC_MEMORY_ALLOC_PACKET_CUSTOM_CMAGIC</a></td></tr>
<tr class="memdesc:a14630b7ef3ab5e3a0938200b08178de4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom allocation from the CMagic library.  <a href="#a14630b7ef3ab5e3a0938200b08178de4">More...</a><br /></td></tr>
<tr class="separator:a14630b7ef3ab5e3a0938200b08178de4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Portable substitutes of standard <code>malloc()</code> and <code>free()</code> functions. </p>
<p>Does not use any platform dependent system calls. Everything is maintained in a static memory block. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a5e884dd646f78d2e050e425c78a6fbe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e884dd646f78d2e050e425c78a6fbe2">&#9670;&nbsp;</a></span>cmagic_memory_free_fptr_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* cmagic_memory_free_fptr_t) (void *ptr)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A pointer to <code>free</code> like function. </p>

</div>
</div>
<a id="ac97faa884dfeb7cd547af82a1e599122"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac97faa884dfeb7cd547af82a1e599122">&#9670;&nbsp;</a></span>cmagic_memory_malloc_fptr_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void*(* cmagic_memory_malloc_fptr_t) (size_t size)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A pointer to <code>malloc</code> like function. </p>

</div>
</div>
<a id="ad1cb95b66f64dc4dbd4f0e681991d8c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1cb95b66f64dc4dbd4f0e681991d8c6">&#9670;&nbsp;</a></span>cmagic_memory_realloc_fptr_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void*(* cmagic_memory_realloc_fptr_t) (void *ptr, size_t size)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A pointer to <code>realloc</code> like function. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ab6b835f74113b8e45dd682613a9eca48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6b835f74113b8e45dd682613a9eca48">&#9670;&nbsp;</a></span>cmagic_memory_free_result</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="memory_8h.html#ab6b835f74113b8e45dd682613a9eca48">cmagic_memory_free_result</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of result returned from <a class="el" href="memory_8h.html#a78755e6591b78b6dbbf73b9d53575e6e">cmagic_memory_free_ext</a>. </p>
<p>Values with <code>OK</code> word are successful <a class="el" href="memory_8h.html#a78755e6591b78b6dbbf73b9d53575e6e">cmagic_memory_free_ext</a> calls. Values with <code>ERR</code> word indicate invalid usage of the dynamic allocations. In such cases user should inspect </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ab6b835f74113b8e45dd682613a9eca48a6cf67a41aabb9e6cc8dc312a656fe99c"></a>CMAGIC_MEMORY_FREE_RESULT_OK&#160;</td><td class="fielddoc"><p>The memory block was freed successfully. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab6b835f74113b8e45dd682613a9eca48ac1ef65b5521c195d146f0327a1de035a"></a>CMAGIC_MEMORY_FREE_RESULT_OK_NULLPTR&#160;</td><td class="fielddoc"><p>Function was called on a <code>NULL</code> pointer. It's not an error. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab6b835f74113b8e45dd682613a9eca48a1f3f0dae68dff6e9fa929c10f9dd3156"></a>CMAGIC_MEMORY_FREE_RESULT_ERR_NOT_ALLOCATED_BEFORE&#160;</td><td class="fielddoc"><p>Tried to free a memory block which was not allocated before or already freed. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab6b835f74113b8e45dd682613a9eca48a992ee4330e0b8f43eb588ebca712830e"></a>CMAGIC_MEMORY_FREE_RESULT_ERR_ADDRESS_OUTSIDE_MEMORY_POOL&#160;</td><td class="fielddoc"><p>Function was called on a pointer outside the memory pool specified with <a class="el" href="memory_8h.html#a63e599b9e5eddc80f0a9982d8c06f732">cmagic_memory_init</a>. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab6b835f74113b8e45dd682613a9eca48a4fa3f916953155b0996bb65f2fef02be"></a>CMAGIC_MEMORY_FREE_RESULT_ERR_UNINITIALIZED&#160;</td><td class="fielddoc"><p><a class="el" href="memory_8h.html#a63e599b9e5eddc80f0a9982d8c06f732">cmagic_memory_init</a> was not called before performing any dynamic memory operations. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8a68773e742c5689701ca5c968a53cdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a68773e742c5689701ca5c968a53cdb">&#9670;&nbsp;</a></span>cmagic_memory_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cmagic_memory_free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deallocates a block of memory previously allocated by a call to <a class="el" href="memory_8h.html#aed5c7e3341135476dfc53395a1d365c2">cmagic_memory_malloc</a> or <a class="el" href="memory_8h.html#afbf929b0e34ef845d8bb9a7822b0c515">cmagic_memory_realloc</a> is deallocated, making it available again for further allocations. </p>
<p>Does nothing for <code>NULL</code> pointer or pointer not allocated with above functions. Errors can be retrieved by using extended version of this function <a class="el" href="memory_8h.html#a78755e6591b78b6dbbf73b9d53575e6e">cmagic_memory_free_ext</a>. It never causes <em>undefined behavior</em>. But <em>undefined behavior</em> occurs if user dereferences pointer after calling this function (<em>use after free</em>). Notice that this function does not change the value of ptr itself, hence it still points to the same (now invalid) location. For <em>Debug</em> build configuration this function triggers an assertion if <code>ptr</code> is invalid or already freed. </p><dl class="section user"><dt>Complexity</dt><dd>O(1) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>address of a memory block to be freed or <code>NULL</code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a78755e6591b78b6dbbf73b9d53575e6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78755e6591b78b6dbbf73b9d53575e6e">&#9670;&nbsp;</a></span>cmagic_memory_free_ext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="memory_8h.html#ab6b835f74113b8e45dd682613a9eca48">cmagic_memory_free_result</a> cmagic_memory_free_ext </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extended version of <a class="el" href="memory_8h.html#a8a68773e742c5689701ca5c968a53cdb">cmagic_memory_free</a>. </p>
<p>Mainly for debug purposes. Allows to detect invalid dynamic memory management. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>address of a memory block to be freed or <code>NULL</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status value indicating operation success or error </dd></dl>

</div>
</div>
<a id="ab22db8eee580dd3a828a89a18a958db9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22db8eee580dd3a828a89a18a958db9">&#9670;&nbsp;</a></span>cmagic_memory_get_allocated_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t cmagic_memory_get_allocated_bytes </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the sum of currently allocated bytes. </p>

</div>
</div>
<a id="af895228dff3d6c87198f40b085c0a57a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af895228dff3d6c87198f40b085c0a57a">&#9670;&nbsp;</a></span>cmagic_memory_get_allocations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t cmagic_memory_get_allocations </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns number of allocations made by <a class="el" href="memory_8h.html#aed5c7e3341135476dfc53395a1d365c2">cmagic_memory_malloc</a>. </p>
<p>Every successful call to <a class="el" href="memory_8h.html#aed5c7e3341135476dfc53395a1d365c2">cmagic_memory_malloc</a> increments this value. Every successful call to <a class="el" href="memory_8h.html#a8a68773e742c5689701ca5c968a53cdb">cmagic_memory_free</a> decrements this value. A call to <a class="el" href="memory_8h.html#afbf929b0e34ef845d8bb9a7822b0c515">cmagic_memory_realloc</a> doesn't change this value. </p><dl class="section user"><dt>Implementation details</dt><dd>Internally this fuction counts a number of <b>special nodes</b> mentioned in the description of <a class="el" href="memory_8h.html#aed5c7e3341135476dfc53395a1d365c2">cmagic_memory_malloc</a>. </dd></dl>

</div>
</div>
<a id="a37a2b4d2ab482a06c342ed4518de48f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37a2b4d2ab482a06c342ed4518de48f1">&#9670;&nbsp;</a></span>cmagic_memory_get_free_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t cmagic_memory_get_free_bytes </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns number of free bytes in the memory pool. </p>
<p>There is not a guarantee that a next <a class="el" href="memory_8h.html#aed5c7e3341135476dfc53395a1d365c2">cmagic_memory_malloc</a> with a size less than the result returned from this function won't fail. It is so because the free bytes may not form continuous free space range. </p>

</div>
</div>
<a id="a63e599b9e5eddc80f0a9982d8c06f732"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63e599b9e5eddc80f0a9982d8c06f732">&#9670;&nbsp;</a></span>cmagic_memory_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cmagic_memory_init </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>static_memory_pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>static_memory_pool_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a memory range where all dynamic allocated objects will reside. </p>
<p>Must be called exactly once before any call to any other function from this header. Sets a memory range which will be used by every other function from this header and it must be valid during these calls. So generally it should be located in the static memory to be accessible during the whole program run time. Typical use is to declare a static array of chars of a sane size and pass it to this function. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">static_memory_pool</td><td>address of a static byte array declared by user </td></tr>
    <tr><td class="paramname">static_memory_pool_size</td><td>size of the static array </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0a5f400fbe4a0ed473174ee3c730465b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a5f400fbe4a0ed473174ee3c730465b">&#9670;&nbsp;</a></span>cmagic_memory_is_allocated()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cmagic_memory_is_allocated </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the memory block was allocated before with <a class="el" href="memory_8h.html#aed5c7e3341135476dfc53395a1d365c2">cmagic_memory_malloc</a> or <a class="el" href="memory_8h.html#afbf929b0e34ef845d8bb9a7822b0c515">cmagic_memory_realloc</a> and not freed yet. </p>
<p>Mainly for debug purposes. Allows to detect invalid dynamic memory management. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>address of a memory block to checked </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the memory block is allocated and can be freed, false otherwise </dd></dl>

</div>
</div>
<a id="aed5c7e3341135476dfc53395a1d365c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed5c7e3341135476dfc53395a1d365c2">&#9670;&nbsp;</a></span>cmagic_memory_malloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* cmagic_memory_malloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dynamically allocates a block of memory of requested size, returning a pointer to the beginning of the block. </p>
<p>The content of the newly allocated block of memory is not initialized, remaining with indeterminate values. When the memory block is no longer needed it can be freed using <a class="el" href="memory_8h.html#a8a68773e742c5689701ca5c968a53cdb">cmagic_memory_free</a>. </p><dl class="section user"><dt>Implementation details</dt><dd>The memory pool set by <a class="el" href="memory_8h.html#a63e599b9e5eddc80f0a9982d8c06f732">cmagic_memory_init</a> is divided into equal size blocks. Every block is either raw data or a <b>special node</b>. Special node holds an information about number of bytes allocated right after it. Special nodes form a linked list. When <a class="el" href="memory_8h.html#aed5c7e3341135476dfc53395a1d365c2">cmagic_memory_malloc</a> is called the linked list is traversed in search of holes of unallocated memory. If a hole big enough is found a new special node is created and inserted into the linked list. Then the address after the special node is returned. If all holes are too small or there is just no holes at all, the special node is added at the end of the linked list. </dd></dl>
<dl class="section user"><dt>Complexity</dt><dd>O(n) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>size of the memory block to allocate, in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success, a pointer to the memory block allocated by the function. The type of this pointer is always <code>void*</code>, which can be cast to the desired type of data pointer in order to be dereferenceable. If the function failed to allocate the requested block of memory, a <code>NULL</code> pointer is returned. </dd></dl>

</div>
</div>
<a id="afbf929b0e34ef845d8bb9a7822b0c515"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbf929b0e34ef845d8bb9a7822b0c515">&#9670;&nbsp;</a></span>cmagic_memory_realloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* cmagic_memory_realloc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reallocates memory block changing its original size. </p>
<p>Changes the size of the memory block pointed to by <code>ptr</code>. May move the memory block to a new location (whose address is returned by the function). The content of the memory block is preserved up to the lesser of the new and old sizes, even if the block is moved to a new location. If the new size is larger, the value of the newly allocated portion is indeterminate. In case that <code>ptr</code> is a <code>NULL</code> pointer, the function behaves like <a class="el" href="memory_8h.html#aed5c7e3341135476dfc53395a1d365c2">cmagic_memory_malloc</a>, assigning a new block of size bytes and returning a pointer to its beginning. </p><dl class="section user"><dt>Complexity</dt><dd>O(1) if <code>size</code> is lower or equal to the original size, O(n) otherwise </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>pointer to the memory block allocated before by <a class="el" href="memory_8h.html#aed5c7e3341135476dfc53395a1d365c2">cmagic_memory_malloc</a> or <a class="el" href="memory_8h.html#afbf929b0e34ef845d8bb9a7822b0c515">cmagic_memory_realloc</a> </td></tr>
    <tr><td class="paramname">size</td><td>updated size of the memory block </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to a possibly new memory block or <code>NULL</code> if reallocation failed. In such a case original <code>ptr</code> is as still valid pointer to an unmodified memory block. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a14630b7ef3ab5e3a0938200b08178de4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14630b7ef3ab5e3a0938200b08178de4">&#9670;&nbsp;</a></span>CMAGIC_MEMORY_ALLOC_PACKET_CUSTOM_CMAGIC</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structcmagic__memory__alloc__packet__t.html">cmagic_memory_alloc_packet_t</a> CMAGIC_MEMORY_ALLOC_PACKET_CUSTOM_CMAGIC</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    <a class="code" href="memory_8h.html#aed5c7e3341135476dfc53395a1d365c2">cmagic_memory_malloc</a>, <a class="code" href="memory_8h.html#afbf929b0e34ef845d8bb9a7822b0c515">cmagic_memory_realloc</a>, <a class="code" href="memory_8h.html#a8a68773e742c5689701ca5c968a53cdb">cmagic_memory_free</a></div><div class="line">}</div><div class="ttc" id="memory_8h_html_afbf929b0e34ef845d8bb9a7822b0c515"><div class="ttname"><a href="memory_8h.html#afbf929b0e34ef845d8bb9a7822b0c515">cmagic_memory_realloc</a></div><div class="ttdeci">void * cmagic_memory_realloc(void *ptr, size_t size)</div><div class="ttdoc">Reallocates memory block changing its original size. </div></div>
<div class="ttc" id="memory_8h_html_a8a68773e742c5689701ca5c968a53cdb"><div class="ttname"><a href="memory_8h.html#a8a68773e742c5689701ca5c968a53cdb">cmagic_memory_free</a></div><div class="ttdeci">void cmagic_memory_free(void *ptr)</div><div class="ttdoc">Deallocates a block of memory previously allocated by a call to cmagic_memory_malloc or cmagic_memory...</div></div>
<div class="ttc" id="memory_8h_html_aed5c7e3341135476dfc53395a1d365c2"><div class="ttname"><a href="memory_8h.html#aed5c7e3341135476dfc53395a1d365c2">cmagic_memory_malloc</a></div><div class="ttdeci">void * cmagic_memory_malloc(size_t size)</div><div class="ttdoc">Dynamically allocates a block of memory of requested size, returning a pointer to the beginning of th...</div></div>
</div><!-- fragment -->
<p>Custom allocation from the CMagic library. </p>

</div>
</div>
<a id="a65b6e69a55a497faf1a7908c9b01997a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65b6e69a55a497faf1a7908c9b01997a">&#9670;&nbsp;</a></span>CMAGIC_MEMORY_ALLOC_PACKET_STD</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structcmagic__memory__alloc__packet__t.html">cmagic_memory_alloc_packet_t</a> CMAGIC_MEMORY_ALLOC_PACKET_STD</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    malloc, realloc, free</div><div class="line">}</div></div><!-- fragment -->
<p>Allocation from the standard library. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
